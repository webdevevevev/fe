import{d as C,r as V,b as m,c as _,w as o,U as N,X as h,Y as w,o as f,e as l,g as d,y as r,P as g,Z as x,_ as P}from"./index-bd5276af.js";const k=C({__name:"Profile",setup(U){const v=["中华人民共和国居民身份证"],e=V(new N);async function I(){const n=await h();Object.assign(e,n),e.mtime=new Date(e.mtime),e.ctime=new Date(e.ctime);const i=await w(e.provinceId,e.provinceId),t=await w(e.provinceId,e.cityId);Object.assign(e,{province:i,city:t}),a.phone=e.phone,a.intro=e.intro}I();function y(n){return n.toString().padStart(2,"0")}function b(n){const i=n.getFullYear(),t=n.getMonth()+1,p=n.getDate(),u=n.getHours(),c=n.getMinutes();return`${i}年${t}月${p}日 ${y(u)}:${y(c)}`}const a=V({pwd:"",phone:e.phone,intro:e.intro});function D(){const n={};a.pwd&&(n.pwd=a.pwd),a.phone!==e.phone&&(n.phone=a.phone),a.intro!==e.intro&&(n.intro=a.intro),x(n)}return(n,i)=>{const t=m("el-form-item"),p=m("el-input"),u=m("el-button"),c=m("el-form");return f(),_(c,{class:"form",modelValue:e,"onUpdate:modelValue":i[3]||(i[3]=s=>e=s),"label-width":"5em"},{default:o(()=>[l(t,{label:"ID"},{default:o(()=>[d(r(e.id),1)]),_:1}),l(t,{label:"用户名"},{default:o(()=>[d(r(e.nickname),1)]),_:1}),l(t,{label:"密码"},{default:o(()=>[l(p,{type:"password",modelValue:a.pwd,"onUpdate:modelValue":i[0]||(i[0]=s=>a.pwd=s)},null,8,["modelValue"])]),_:1}),l(t,{label:"用户类型"},{default:o(()=>[d(r(e.isAdmin?"系统管理员":"普通用户"),1)]),_:1}),l(t,{label:"姓名"},{default:o(()=>[d(r(e.name),1)]),_:1}),l(t,{label:"证件类型"},{default:o(()=>[d(r(v[e.IDCardType]),1)]),_:1}),l(t,{label:"证件号码"},{default:o(()=>[d(r(e.IDCardNo),1)]),_:1}),l(t,{label:"手机号码"},{default:o(()=>[l(p,{modelValue:a.phone,"onUpdate:modelValue":i[1]||(i[1]=s=>a.phone=s)},null,8,["modelValue"])]),_:1}),l(t,{label:"用户级别"},{default:o(()=>[d(r(e.isVIP?"VIP":"一般"),1)]),_:1}),l(t,{label:"用户简介"},{default:o(()=>[l(p,{modelValue:a.intro,"onUpdate:modelValue":i[2]||(i[2]=s=>a.intro=s),type:"textarea"},null,8,["modelValue"])]),_:1}),l(t,{label:"注册城市"},{default:o(()=>[d(r(e.province)+" "+r(e.city),1)]),_:1}),e.ctime?(f(),_(t,{key:0,label:"注册时间"},{default:o(()=>[d(r(b(e.ctime)),1)]),_:1})):g("",!0),e.mtime?(f(),_(t,{key:1,label:"修改时间"},{default:o(()=>[d(r(b(e.mtime)),1)]),_:1})):g("",!0),l(t,null,{default:o(()=>[l(u,{type:"primary",onClick:D},{default:o(()=>[d(" 保存 ")]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});const S=P(k,[["__scopeId","data-v-1d0aee42"]]);export{S as default};
