import{d as w,u as h,a as S,r as V,b as n,c as b,w as s,o as k,e as o,f as i,s as x,E as y,p as v,g as C,h as I,_ as N}from"./index-c999cba4.js";const B=a=>(v("data-v-c0fee350"),a=a(),C(),a),E=B(()=>I("h2",{class:"header"},"登录",-1)),M=w({__name:"Signin",setup(a){const _=h(),m=S(),e=V({name:"",pwd:""});async function p(){const l=await x(e.name,e.pwd);if(typeof l=="object"){const{sign:t}=l;_.commit("signin",{nickname:e.name,sign:t}),localStorage.setItem("sign",t),_.dispatch("getNickname");const c=_.getters.isAdmin?"/admin":"/";m.push(c)}else y.error({showClose:!0,message:l})}return(l,t)=>{const c=n("el-input"),r=n("el-form-item"),u=n("el-button"),f=n("router-link"),g=n("el-form");return k(),b(g,{class:"form",model:e,"label-width":"80px"},{default:s(()=>[E,o(r,{label:"用户名"},{default:s(()=>[o(c,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=d=>e.name=d)},null,8,["modelValue"])]),_:1}),o(r,{label:"密码"},{default:s(()=>[o(c,{modelValue:e.pwd,"onUpdate:modelValue":t[1]||(t[1]=d=>e.pwd=d),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),o(r,null,{default:s(()=>[o(u,{type:"primary",onClick:p},{default:s(()=>[i("登录")]),_:1})]),_:1}),o(r,null,{default:s(()=>[o(f,{to:"signup",class:"link"},{default:s(()=>[i("没有账号？点此注册")]),_:1})]),_:1})]),_:1},8,["model"])}}});const j=N(M,[["__scopeId","data-v-c0fee350"]]);export{j as default};
