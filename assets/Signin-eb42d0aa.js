import{d as h,u as S,a as V,r as b,b as a,c as k,e as o,w as n,F as y,o as x,f as m,p as v,g as C,h as I,s as N,E as p,_ as B}from"./index-0e7aa9b2.js";const E=l=>(v("data-v-f8e9e714"),l=l(),C(),l),F=E(()=>I("h2",null,"登录",-1)),M=h({__name:"Signin",setup(l){const _=S(),d=V(),t=b({name:"",pwd:""});async function i(){let s;try{s=await N(t.name,t.pwd)}catch(e){return p.error({showClose:!0,message:e}),console.error(e)}if(typeof s=="object"){const{sign:e}=s;_.commit("signin",{nickname:t.name,sign:e}),localStorage.setItem("sign",e),_.dispatch("getNickname"),d.push("/")}else p.error({showClose:!0,message:s})}return(s,e)=>{const c=a("el-input"),r=a("el-form-item"),f=a("el-button"),g=a("router-link"),w=a("el-form");return x(),k(y,null,[F,o(w,{model:t,"label-width":"80px"},{default:n(()=>[o(r,{label:"用户名"},{default:n(()=>[o(c,{modelValue:t.name,"onUpdate:modelValue":e[0]||(e[0]=u=>t.name=u)},null,8,["modelValue"])]),_:1}),o(r,{label:"密码"},{default:n(()=>[o(c,{modelValue:t.pwd,"onUpdate:modelValue":e[1]||(e[1]=u=>t.pwd=u),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),o(r,null,{default:n(()=>[o(f,{type:"primary",onClick:i},{default:n(()=>[m("登录")]),_:1})]),_:1}),o(r,null,{default:n(()=>[o(g,{to:"signup",class:"link"},{default:n(()=>[m("没有账号？点此注册")]),_:1})]),_:1})]),_:1},8,["model"])],64)}}});const j=B(M,[["__scopeId","data-v-f8e9e714"]]);export{j as default};
