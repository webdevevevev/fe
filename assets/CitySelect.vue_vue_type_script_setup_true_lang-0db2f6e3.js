import{d as k,u as w,i as m,b as v,o as n,c as u,e as s,w as f,F as c,l as g,m as y,j as C,M as B,E}from"./index-ee28ec69.js";const M=k({__name:"CitySelect",props:{province:{},city:{}},emits:["update:province","update:city"],setup(P,{emit:_}){const p=_,t=w(),b=m(!0),r=m(!1);t.dispatch("getProvinces").then(()=>b.value=!1);async function h(e){if(p("update:province",e),p("update:city",-1),!(e<0)){r.value=!0;try{await t.dispatch("getCities",t.state.provinces[e].id)}catch(l){E.error({showClose:!0,message:l.message}),console.error(l)}finally{r.value=!1}}}return(e,l)=>{const o=v("el-option"),d=v("el-select");return n(),u(c,null,[s(d,{"model-value":e.province,onChange:h},{default:f(()=>[s(o,{label:"请选择省份",value:-1}),(n(!0),u(c,null,g(C(t).state.provinces,(a,i)=>(n(),y(o,{key:a.id,label:a.name,value:i},null,8,["label","value"]))),128))]),_:1},8,["model-value"]),s(d,{"model-value":e.city,filterable:"",loading:r.value,onChange:l[0]||(l[0]=a=>e.$emit("update:city",a))},{default:f(()=>[s(o,{label:"请选择城市",value:-1}),e.province>=0?(n(!0),u(c,{key:0},g(C(t).state.provinces[e.province].cities,(a,i)=>(n(),y(o,{key:a.id,label:a.name,value:i},null,8,["label","value"]))),128)):B("",!0)]),_:1},8,["model-value","loading"])],64)}}});export{M as _};
