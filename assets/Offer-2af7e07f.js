import{d as N,r as b,E as B,b as d,c as u,h as e,t,e as o,w as a,j as i,F as w,k as v,O as j,q as z,x as E,y as L,o as f,f as x,z as y,A as P,S as V,B as k,C as $,D as q,G as A,p as D,g as F,_ as M}from"./index-92f0c9df.js";const G=p=>(D("data-v-40d1a224"),p=p(),F(),p),T={class:"main"},H={class:"article"},J={class:"header"},K={class:"title"},Q={class:"spans"},R={class:"price"},U={class:"time"},W={class:"ctime"},X={class:"mtime"},Y={class:"expire"},Z={class:"desc"},ee={class:"aside"},se=G(()=>e("h3",{class:"aside-header"},"欢迎来列表",-1)),te={class:"list"},oe={class:"card-title"},ae={class:"card-footer"},ne=N({__name:"Offer",props:{id:{type:[Number,String],required:!0}},setup(p){const C=p,s=b(new j);s.id=Number(C.id);const g=b([]);async function O(r,n){const c=await z(r.id);Object.assign(r,c);const m=await Promise.all(c.answerIds.map(_=>E(_)));n.push(...m);for(const _ of n)L(_.user.id).then(h=>{_.user=h})}return O(s,g).catch(r=>{B.error({showClose:!0,message:r.message}),console.error(r)}),(r,n)=>{const c=d("el-tooltip"),m=d("el-button"),_=d("el-icon"),h=d("el-button-group"),S=d("el-text"),I=d("el-card");return f(),u("main",T,[e("article",H,[e("header",J,[e("h2",K,t(s.title),1),e("div",Q,[o(c,{content:`类型：${i(y)[s.type]}`},{default:a(()=>[x(t(i(y)[s.type]),1)]),_:1},8,["content"]),o(c,{content:`状态：${i(k)[s.state]}`},{default:a(()=>[e("span",{class:P(["state",i(V)[s.state]])},t(i(k)[s.state]),3)]),_:1},8,["content"]),e("span",R,t(s.price)+"元",1)])]),e("div",U,[e("span",W,"发布于"+t(s.ctime),1),e("span",X,"修改于"+t(s.mtime),1),e("p",Y,"过期于"+t(s.expire),1)]),e("p",Z,t(s.desc),1),(f(!0),u(w,null,v(s.files,l=>(f(),u("p",{key:l},t(l),1))),128))]),e("aside",ee,[se,e("ul",te,[(f(!0),u(w,null,v(g,l=>(f(),u("li",{key:l.id,class:"answer-preview"},[o(I,{shadow:"hover"},{header:a(()=>[e("h4",oe,t(l.user.nickname),1),o(h,{size:"small",onClick:n[2]||(n[2]=$(()=>{},["stop"]))},{default:a(()=>[o(c,{content:"接受"},{default:a(()=>[o(m,{icon:i(q),onClick:n[0]||(n[0]=()=>{})},null,8,["icon"])]),_:1}),o(c,{content:"拒绝"},{default:a(()=>[o(m,{class:"reject-btn",onClick:n[1]||(n[1]=()=>{})},{default:a(()=>[o(_,{color:"red"},{default:a(()=>[o(i(A))]),_:1})]),_:1})]),_:1})]),_:1})]),footer:a(()=>[e("div",ae,t(l.ctime),1)]),default:a(()=>[o(S,{"line-clamp":2,class:"answer-desc"},{default:a(()=>[x(t(l.desc),1)]),_:2},1024)]),_:2},1024)]))),128))])])])}}});const le=M(ne,[["__scopeId","data-v-40d1a224"]]);export{le as default};
