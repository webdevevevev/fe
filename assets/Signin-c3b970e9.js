import{d as w,u as h,a as y,r as S,b as a,c as V,w as n,o as b,e as o,f as k,g as m,s as x,E as v,p as C,h as I,i as N,_ as B}from"./index-06605eb2.js";const E=l=>(C("data-v-09005738"),l=l(),I(),l),K=E(()=>N("h2",{class:"header"},"登录",-1)),M=w({__name:"Signin",setup(l){const d=h(),p=y(),e=S({name:"",pwd:""});async function c(){let s;if(s=await x(e.name,e.pwd),typeof s=="object"){const{sign:t}=s;d.commit("signin",{nickname:e.name,sign:t}),localStorage.setItem("sign",t),d.dispatch("getNickname");const i=d.getters.isAdmin?"/admin":"/";p.push(i)}else v.error({showClose:!0,message:s})}return(s,t)=>{const i=a("el-input"),r=a("el-form-item"),u=a("el-button"),f=a("router-link"),g=a("el-form");return b(),V(g,{class:"form",model:e,"label-width":"80px"},{default:n(()=>[K,o(r,{label:"用户名"},{default:n(()=>[o(i,{modelValue:e.name,"onUpdate:modelValue":t[0]||(t[0]=_=>e.name=_)},null,8,["modelValue"])]),_:1}),o(r,{label:"密码"},{default:n(()=>[o(i,{modelValue:e.pwd,"onUpdate:modelValue":t[1]||(t[1]=_=>e.pwd=_),type:"password","show-password":"",onKeydown:k(c,["enter"])},null,8,["modelValue"])]),_:1}),o(r,null,{default:n(()=>[o(u,{type:"primary",onClick:c},{default:n(()=>[m("登录")]),_:1})]),_:1}),o(r,null,{default:n(()=>[o(f,{to:"signup",class:"link"},{default:n(()=>[m("没有账号？点此注册")]),_:1})]),_:1})]),_:1},8,["model"])}}});const j=B(M,[["__scopeId","data-v-09005738"]]);export{j as default};
